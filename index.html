<!DOCTYPE html>
<html lang="en" xmlns="https://dehydratedm.github.io/SiteTest/">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="DimDesk.Studios - Independent game development studio">
    <link rel="stylesheet" href="styleSheet.css">
    <title>DimDesk.Studios</title>
    <link rel="icon" type="image/ico" href="Icon.ico" />
    <link rel="preload" as="image" href="logo2.png">
    <link rel="preload" as="image" href="cat.png">
</head>
<body>
    <div class="Container">
        <div class="content">
            <header>
                <div class="HE">
                    <div class="lol">
                        <a href="index.html" title="Return to Home" id="logo-link">
                            <h1 style="color:lightcoral">
                                <img alt="DimDesk Studios Cat Logo" src="cat.png" width="90" id="cat-logo" onerror="this.style.display='none'; document.getElementById('logo-fallback').style.display='block';" />
                                <span id="logo-fallback" class="logo-fallback" style="display:none;">DIMDESK</span>
                            </h1>
                        </a>
                    </div>
                    
                    <!-- Desktop Navigation -->
                    <nav class="nav-links">
                        <ul>
                            <li><a href="index.html" id="home-link" class="current-page">Home</a></li>
                            <li><a href="portfolio.html" id="portfolio-link">Portfolio</a></li>
                            <li><a href="shop.html" id="shop-link">Shop</a></li>
                        </ul>
                    </nav>
                    
                    <button class="mobile-toggle" aria-label="Toggle navigation menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </header>

            <!-- Secondary Desktop Navigation -->
            <div class="desktop-nav-secondary">
                <ul>
                    <li><a href="index.html" id="secondary-home">Home</a></li>
                    <li><a href="portfolio.html" id="secondary-portfolio">Portfolio</a></li>
                    <li><a href="shop.html" id="secondary-shop">Shop</a></li>
                </ul>
            </div>

            <div class="llogo">
                <h1 style="color:lightcoral">
                    <img alt="DimDesk Studios Main Logo" src="logo2.png" class="main-logo" onerror="this.style.display='none'; document.getElementById('main-logo-fallback').style.display='block';" />
                    <span id="main-logo-fallback" class="logo-fallback" style="display:none;">DimDesk.Studios</span>
                </h1>
            </div>

            <main>
                <div class="websiteIntro">
                    <p style="color: wheat">
                        Hi, I'm M, the heart and soul behind this one-person indie studio. Games and art have been my passions for as long as I can remember, and they've shaped not just my creative journey but also the vision for this studio.

                        My dream is to craft meaningful experiences through games that blend creativity, storytelling, and artistry. It's a challenging road, but I'm committed to pouring my heart into every project, no matter how small or ambitious.

                        Your support means more than words can express. By joining me on this journey, you'll be helping bring these dreams to life—and as a thank-you, you'll earn a special spot in the credits, early access to merch, game releases and some exclusive goodies along the way.

                        Thank you for believing in indie creators like me. Together, we can build something unforgettable.

                        —M
                    </p>
                </div>

                <!-- Featured Sections -->
                <section class="featured-section">
                    <div class="featured-grid">
                        <div class="featured-card">
                            <h2>LATEST RELEASE</h2>
                            <div class="featured-image" id="latest-release">
                                <!-- Image will be loaded via JavaScript -->
                                <span>Loading latest project...</span>
                            </div>
                            <p>Check out our most recent game release, available now on itch.io and other platforms!</p>
                        </div>
                        
                        <div class="featured-card">
                            <h2>UPCOMING PROJECT</h2>
                            <div class="featured-image" id="upcoming-project">
                                <!-- Image will be loaded via JavaScript -->
                                <span>Loading upcoming project...</span>
                            </div>
                            <p>An exciting new adventure is in development. Stay tuned for updates and announcements!</p>
                        </div>
                    </div>
                </section>

                <!-- Released Games Carousel -->
                <section class="carousel-section">
                    <h2 class="carousel-title">Released Games</h2>
                    <div class="carousel-container" id="released-carousel">
                        <button class="carousel-btn carousel-prev" aria-label="Previous slide">❮</button>
                        <div class="carousel-track" id="released-track">
                            <!-- Carousel items will be loaded via JavaScript -->
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/300x200/2c3e50/ecf0f1?text=Game+1" alt="Released Game 1" onerror="this.src='https://via.placeholder.com/300x200/2c3e50/ecf0f1?text=Game+Image'">
                                <div class="carousel-info">
                                    <h3>Project Alpha</h3>
                                    <p>A thrilling platformer adventure with unique mechanics and stunning visuals.</p>
                                </div>
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/300x200/2c3e50/ecf0f1?text=Game+2" alt="Released Game 2" onerror="this.src='https://via.placeholder.com/300x200/2c3e50/ecf0f1?text=Game+Image'">
                                <div class="carousel-info">
                                    <h3>Echoes of Time</h3>
                                    <p>A puzzle adventure game where you manipulate time to solve mysteries.</p>
                                </div>
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/300x200/2c3e50/ecf0f1?text=Game+3" alt="Released Game 3" onerror="this.src='https://via.placeholder.com/300x200/2c3e50/ecf0f1?text=Game+Image'">
                                <div class="carousel-info">
                                    <h3>Neon Runner</h3>
                                    <p>Fast-paced endless runner set in a cyberpunk world with retro aesthetics.</p>
                                </div>
                            </div>
                        </div>
                        <button class="carousel-btn carousel-next" aria-label="Next slide">❯</button>
                        <div class="carousel-dots" id="released-dots">
                            <!-- Dots will be added via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Upcoming Games Carousel -->
                <section class="carousel-section">
                    <h2 class="carousel-title">Upcoming Projects</h2>
                    <div class="carousel-container" id="upcoming-carousel">
                        <button class="carousel-btn carousel-prev" aria-label="Previous slide">❮</button>
                        <div class="carousel-track" id="upcoming-track">
                            <!-- Carousel items will be loaded via JavaScript -->
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/300x200/8e44ad/ecf0f1?text=Coming+Soon+1" alt="Upcoming Project 1" onerror="this.src='https://via.placeholder.com/300x200/8e44ad/ecf0f1?text=Coming+Soon'">
                                <div class="carousel-info">
                                    <h3>Dreamscape</h3>
                                    <p>Explore a surreal world where dreams and reality collide in this atmospheric adventure.</p>
                                </div>
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/300x200/8e44ad/ecf0f1?text=Coming+Soon+2" alt="Upcoming Project 2" onerror="this.src='https://via.placeholder.com/300x200/8e44ad/ecf0f1?text=Coming+Soon'">
                                <div class="carousel-info">
                                    <h3>Chrono Knights</h3>
                                    <p>Time-traveling knights battle through different historical eras in this action RPG.</p>
                                </div>
                            </div>
                            <div class="carousel-slide">
                                <img src="https://via.placeholder.com/300x200/8e44ad/ecf0f1?text=Coming+Soon+3" alt="Upcoming Project 3" onerror="this.src='https://via.placeholder.com/300x200/8e44ad/ecf0f1?text=Coming+Soon'">
                                <div class="carousel-info">
                                    <h3>Pixel Legends</h3>
                                    <p>Retro-inspired RPG with modern gameplay mechanics and epic storytelling.</p>
                                </div>
                            </div>
                        </div>
                        <button class="carousel-btn carousel-next" aria-label="Next slide">❯</button>
                        <div class="carousel-dots" id="upcoming-dots">
                            <!-- Dots will be added via JavaScript -->
                        </div>
                    </div>
                </section>

                <div class="video-container">
                    <video autoplay muted loop playsinline>
                        <source src="D.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>

                <div class="trailercontainer">
                    <div class="video-wrapper">
                        <iframe src="https://www.youtube.com/embed/b2lC7cbFmXE?si=0QF0uBmAqdCE5Rj1" 
                                title="YouTube video player" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                referrerpolicy="strict-origin-when-cross-origin" 
                                allowfullscreen></iframe>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <footer style="background-color: black">
        <div class="footerContainer">
            <div class="socialIcons">
                <a href="https://bsky.app/profile/fubiem.bsky.social" target="_blank" rel="noopener noreferrer" aria-label="Bluesky">
                    <img alt="Bluesky" src="bluesky-fillW.png" width="30" height="30" onerror="this.style.display='none'" />
                </a>
                <a href="https://www.youtube.com/@fubiereal" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
                    <img alt="YouTube" src="youtube-fillW.png" width="30" height="30" onerror="this.style.display='none'" />
                </a>
                <a href="https://www.patreon.com/c/DIMDESK" target="_blank" rel="noopener noreferrer" aria-label="Patreon">
                    <img alt="Patreon" src="pathronW.png" width="30" height="30" onerror="this.style.display='none'" />
                </a>
                <a href="https://dimdesk.itch.io" target="_blank" rel="noopener noreferrer" aria-label="Itch.io">
                    <img alt="Itch.io" src="itchioW.png" width="30" height="30" onerror="this.style.display='none'" />
                </a>
                <a href="https://cara.app/fubie/all" target="_blank" rel="noopener noreferrer" aria-label="Cara">
                    <img alt="Cara" src="caraW.png" width="30" height="30" onerror="this.style.display='none'" />
                </a>
            </div>
        </div>
        <div class="Oo">
            <p style="color: #D8A790; display: inline-block;">contact us:</p>
            <a style="color: #D8A790" href="mailto:dimdesk.contact@gmail.com">dimdesk.Contact@gmail.com</a>
            <div class="footerBottom">
                <p style="color:moccasin">Copyright &copy;2025; <span class="designer">DimDesk.Studios</span></p>
            </div>
        </div>
    </footer>

    <script>
        // ==========================================================================
        // Navigation & Current Page Highlighting
        // ==========================================================================
        document.addEventListener('DOMContentLoaded', function() {
            const mobileToggle = document.querySelector('.mobile-toggle');
            const navLinks = document.querySelector('.nav-links');
            const navItems = document.querySelectorAll('.nav-links a');
            
            // Mobile menu functionality
            if (mobileToggle) {
                mobileToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    navLinks.classList.toggle('active');
                    mobileToggle.classList.toggle('active');
                });
            }
            
            // Close mobile menu when clicking on a link
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        navLinks.classList.remove('active');
                        mobileToggle.classList.remove('active');
                    }
                });
            });
            
            // Highlight current page in both navigation systems
            function highlightCurrentPage() {
                const currentPage = window.location.pathname.split('/').pop();
                const pages = [
                    { id: 'home-link', secondary: 'secondary-home', page: 'index.html' },
                    { id: 'portfolio-link', secondary: 'secondary-portfolio', page: 'portfolio.html' },
                    { id: 'shop-link', secondary: 'secondary-shop', page: 'shop.html' }
                ];
                
                // Highlight in main navigation
                pages.forEach(page => {
                    const mainLink = document.getElementById(page.id);
                    const secondaryLink = document.getElementById(page.secondary);
                    
                    if (mainLink) {
                        mainLink.classList.remove('current-page');
                        if (currentPage === page.page || (currentPage === '' && page.page === 'index.html')) {
                            mainLink.classList.add('current-page');
                        }
                    }
                    
                    if (secondaryLink) {
                        secondaryLink.classList.remove('current-page');
                        if (currentPage === page.page || (currentPage === '' && page.page === 'index.html')) {
                            secondaryLink.classList.add('current-page');
                        }
                    }
                });
            }
            
            highlightCurrentPage();
            
            // ==========================================================================
            // Logo Click Effects
            // ==========================================================================
            const logoLink = document.getElementById('logo-link');
            if (logoLink) {
                logoLink.addEventListener('click', function(e) {
                    const logoImg = document.getElementById('cat-logo');
                    if (logoImg) {
                        logoImg.style.transform = 'scale(0.9)';
                        setTimeout(() => {
                            logoImg.style.transform = '';
                        }, 200);
                    }
                });
            }
            
            // ==========================================================================
            // Carousel Functionality
            // ==========================================================================
            class Carousel {
                constructor(containerId) {
                    this.container = document.getElementById(containerId);
                    if (!this.container) return;
                    
                    this.track = this.container.querySelector('.carousel-track');
                    this.slides = Array.from(this.track.children);
                    this.prevBtn = this.container.querySelector('.carousel-prev');
                    this.nextBtn = this.container.querySelector('.carousel-next');
                    this.dotsContainer = this.container.querySelector('.carousel-dots');
                    
                    this.currentIndex = 0;
                    this.slideWidth = this.slides[0].getBoundingClientRect().width;
                    this.slidesPerView = this.calculateSlidesPerView();
                    
                    this.init();
                }
                
                calculateSlidesPerView() {
                    const containerWidth = this.container.offsetWidth;
                    const slideWidth = this.slides[0].offsetWidth + 20; // Including gap
                    return Math.floor(containerWidth / slideWidth) || 1;
                }
                
                init() {
                    // Create dots
                    this.slides.forEach((_, index) => {
                        const dot = document.createElement('button');
                        dot.className = 'carousel-dot';
                        if (index === 0) dot.classList.add('active');
                        dot.addEventListener('click', () => this.goToSlide(index));
                        this.dotsContainer.appendChild(dot);
                    });
                    
                    this.dots = Array.from(this.dotsContainer.children);
                    
                    // Event listeners
                    this.prevBtn.addEventListener('click', () => this.prevSlide());
                    this.nextBtn.addEventListener('click', () => this.nextSlide());
                    
                    // Auto-advance carousel
                    this.startAutoAdvance();
                    
                    // Pause on hover
                    this.container.addEventListener('mouseenter', () => this.pauseAutoAdvance());
                    this.container.addEventListener('mouseleave', () => this.startAutoAdvance());
                    
                    // Update on resize
                    window.addEventListener('resize', () => {
                        this.slideWidth = this.slides[0].getBoundingClientRect().width;
                        this.slidesPerView = this.calculateSlidesPerView();
                        this.updateCarousel();
                    });
                }
                
                updateCarousel() {
                    const moveAmount = this.slideWidth * this.currentIndex;
                    this.track.style.transform = `translateX(-${moveAmount}px)`;
                    
                    // Update dots
                    this.dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === this.currentIndex);
                    });
                }
                
                nextSlide() {
                    if (this.currentIndex >= this.slides.length - this.slidesPerView) {
                        this.currentIndex = 0;
                    } else {
                        this.currentIndex++;
                    }
                    this.updateCarousel();
                }
                
                prevSlide() {
                    if (this.currentIndex <= 0) {
                        this.currentIndex = this.slides.length - this.slidesPerView;
                    } else {
                        this.currentIndex--;
                    }
                    this.updateCarousel();
                }
                
                goToSlide(index) {
                    this.currentIndex = index;
                    this.updateCarousel();
                }
                
                startAutoAdvance() {
                    this.autoAdvance = setInterval(() => this.nextSlide(), 5000);
                }
                
                pauseAutoAdvance() {
                    clearInterval(this.autoAdvance);
                }
            }
            
            // Initialize carousels
            const releasedCarousel = new Carousel('released-carousel');
            const upcomingCarousel = new Carousel('upcoming-carousel');
            
            // ==========================================================================
            // Featured Images Loading
            // ==========================================================================
            function loadFeaturedImages() {
                const latestRelease = document.getElementById('latest-release');
                const upcomingProject = document.getElementById('upcoming-project');
                
                // Simulate loading images (replace with your actual images)
                setTimeout(() => {
                    if (latestRelease) {
                        latestRelease.innerHTML = '<img src="https://via.placeholder.com/350x200/2c3e50/ecf0f1?text=LATEST+RELEASE" alt="Latest Release" style="width:100%;height:100%;object-fit:cover;border-radius:10px;">';
                    }
                    
                    if (upcomingProject) {
                        upcomingProject.innerHTML = '<img src="https://via.placeholder.com/350x200/8e44ad/ecf0f1?text=UPCOMING+PROJECT" alt="Upcoming Project" style="width:100%;height:100%;object-fit:cover;border-radius:10px;">';
                    }
                }, 1000);
            }
            
            loadFeaturedImages();
            
            // ==========================================================================
            // YouTube iframe Responsiveness
            // ==========================================================================
            function makeIframesResponsive() {
                const iframes = document.querySelectorAll('iframe');
                iframes.forEach(iframe => {
                    const width = iframe.parentElement.offsetWidth;
                    const aspectRatio = 16/9;
                    iframe.style.width = '100%';
                    iframe.style.height = (width / aspectRatio) + 'px';
                });
            }
            
            makeIframesResponsive();
            window.addEventListener('resize', makeIframesResponsive);
            
            // ==========================================================================
            // Image Loading Fallbacks
            // ==========================================================================
            document.querySelectorAll('img').forEach(img => {
                if (!img.hasAttribute('loading')) {
                    img.setAttribute('loading', 'lazy');
                }
                
                img.addEventListener('error', function() {
                    console.log('Image failed to load:', this.src);
                    this.style.opacity = '0.5';
                });
            });
            
            // ==========================================================================
            // Video Autoplay Fix
            // ==========================================================================
            const video = document.querySelector('video');
            if (video) {
                video.play().catch(function(error) {
                    document.addEventListener('touchstart', function() {
                        video.play();
                    }, { once: true });
                });
            }
            
            // ==========================================================================
            // Secondary Navigation Toggle
            // ==========================================================================
            const secondaryNav = document.querySelector('.desktop-nav-secondary');
            if (secondaryNav && window.innerWidth >= 1400) {
                let isVisible = false;
                
                document.addEventListener('scroll', function() {
                    if (window.scrollY > 300 && !isVisible) {
                        secondaryNav.style.display = 'block';
                        setTimeout(() => {
                            secondaryNav.style.opacity = '1';
                            secondaryNav.style.transform = 'translateY(0)';
                        }, 10);
                        isVisible = true;
                    } else if (window.scrollY <= 300 && isVisible) {
                        secondaryNav.style.opacity = '0';
                        secondaryNav.style.transform = 'translateY(-20px)';
                        setTimeout(() => {
                            secondaryNav.style.display = 'none';
                        }, 300);
                        isVisible = false;
                    }
                });
            }
        });
    </script>
</body>
</html>
